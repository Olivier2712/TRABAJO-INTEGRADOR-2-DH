CREATE DATABASE IF NOT EXISTS `proyectointeg`;

USE proyectointeg;

CREATE TABLE `usuarios` (
  `id` INT UNSIGNED PRIMARY KEY NOT NULL AUTO_INCREMENT,
  `nombre_de_usuario` VARCHAR(200) NOT NULL,
  `email` VARCHAR(200) NOT NULL,
  `contrasenia` VARCHAR(200) NOT NULL,
  `fecha_de_nacimiento` DATE NOT NULL,
  `updatedAt` DATETIME,
  `createdAt` DATETIME
);

CREATE TABLE `productos` (
  `id` INT UNSIGNED PRIMARY KEY NOT NULL AUTO_INCREMENT,
  `modelo` VARCHAR(200) NOT NULL,
  `descripcion` VARCHAR(200) NULL,
  `imagen_url` VARCHAR(200) NOT NULL,
  `updatedAt` DATETIME,
  `createdAt` DATETIME,
  `user_id` INT UNSIGNED NOT NULL,
  FOREIGN KEY (user_id) REFERENCES usuarios(id)
);

CREATE TABLE `comentarios` (
  `id` INT UNSIGNED PRIMARY KEY NOT NULL AUTO_INCREMENT,
  `texto` VARCHAR(200) NOT NULL,
  `updatedAt` DATETIME,
  `createdAt` DATETIME,
  `user_id` INT UNSIGNED NOT NULL,
  FOREIGN KEY (`user_id`) REFERENCES usuarios(`id`),
  `producto_id` INT UNSIGNED NOT NULL,
  FOREIGN KEY (`producto_id`) REFERENCES productos(`id`)
);